DROP DATABASE IF EXISTS PrecioLuz;
CREATE DATABASE PrecioLuz;
USE PrecioLuz;

CREATE TABLE dias (
  id INT AUTO_INCREMENT PRIMARY KEY,
  fecha DATE NOT NULL UNIQUE,
  precio DECIMAL(6,3) NOT NULL
);

CREATE TABLE precios_horas (
  id INT AUTO_INCREMENT PRIMARY KEY,
  id_dia INT NOT NULL,
  hora TIME NOT NULL,
  precio DECIMAL(6,3) NOT NULL,
  FOREIGN KEY (id_dia) REFERENCES dias(id)
);

INSERT INTO dias (fecha, precio) VALUES
('2025-11-07', 0.175),
('2025-11-08', 0.180),
('2025-11-09', 0.160),
('2025-11-10', 0.140),
('2025-11-11', 0.120);

-- Día 2025-11-07 (usa todo el rango: 0.05–0.25)
INSERT INTO precios_horas (id_dia, hora, precio) VALUES
(1,'00:00',0.055),(1,'01:00',0.060),(1,'02:00',0.068),(1,'03:00',0.075),
(1,'04:00',0.082),(1,'05:00',0.090),(1,'06:00',0.100),(1,'07:00',0.115),
(1,'08:00',0.135),(1,'09:00',0.155),(1,'10:00',0.175),(1,'11:00',0.195),
(1,'12:00',0.210),(1,'13:00',0.225),(1,'14:00',0.245),(1,'15:00',0.250),
(1,'16:00',0.240),(1,'17:00',0.220),(1,'18:00',0.190),(1,'19:00',0.160),
(1,'20:00',0.135),(1,'21:00',0.110),(1,'22:00',0.085),(1,'23:00',0.065);

-- Día 2025-11-08 (usa todo el rango)
INSERT INTO precios_horas (id_dia, hora, precio) VALUES
(2,'00:00',0.050),(2,'01:00',0.055),(2,'02:00',0.060),(2,'03:00',0.070),
(2,'04:00',0.080),(2,'05:00',0.092),(2,'06:00',0.105),(2,'07:00',0.125),
(2,'08:00',0.145),(2,'09:00',0.165),(2,'10:00',0.185),(2,'11:00',0.205),
(2,'12:00',0.225),(2,'13:00',0.240),(2,'14:00',0.250),(2,'15:00',0.245),
(2,'16:00',0.230),(2,'17:00',0.210),(2,'18:00',0.190),(2,'19:00',0.165),
(2,'20:00',0.145),(2,'21:00',0.120),(2,'22:00',0.095),(2,'23:00',0.070);

-- Día 2025-11-09 (usa todo el rango)
INSERT INTO precios_horas (id_dia, hora, precio) VALUES
(3,'00:00',0.060),(3,'01:00',0.065),(3,'02:00',0.070),(3,'03:00',0.078),
(3,'04:00',0.085),(3,'05:00',0.095),(3,'06:00',0.110),(3,'07:00',0.130),
(3,'08:00',0.150),(3,'09:00',0.170),(3,'10:00',0.190),(3,'11:00',0.210),
(3,'12:00',0.225),(3,'13:00',0.235),(3,'14:00',0.245),(3,'15:00',0.250),
(3,'16:00',0.238),(3,'17:00',0.215),(3,'18:00',0.185),(3,'19:00',0.160),
(3,'20:00',0.135),(3,'21:00',0.110),(3,'22:00',0.085),(3,'23:00',0.065);

-- Día 2025-11-10 (usa todo el rango)
INSERT INTO precios_horas (id_dia, hora, precio) VALUES
(4,'00:00',0.055),(4,'01:00',0.060),(4,'02:00',0.065),(4,'03:00',0.072),
(4,'04:00',0.080),(4,'05:00',0.090),(4,'06:00',0.105),(4,'07:00',0.125),
(4,'08:00',0.145),(4,'09:00',0.165),(4,'10:00',0.185),(4,'11:00',0.205),
(4,'12:00',0.225),(4,'13:00',0.240),(4,'14:00',0.250),(4,'15:00',0.245),
(4,'16:00',0.230),(4,'17:00',0.210),(4,'18:00',0.185),(4,'19:00',0.160),
(4,'20:00',0.135),(4,'21:00',0.110),(4,'22:00',0.090),(4,'23:00',0.070);

-- Día 2025-11-11 (usa todo el rango)
INSERT INTO precios_horas (id_dia, hora, precio) VALUES
(5,'00:00',0.050),(5,'01:00',0.055),(5,'02:00',0.060),(5,'03:00',0.068),
(5,'04:00',0.078),(5,'05:00',0.090),(5,'06:00',0.105),(5,'07:00',0.125),
(5,'08:00',0.150),(5,'09:00',0.170),(5,'10:00',0.190),(5,'11:00',0.210),
(5,'12:00',0.225),(5,'13:00',0.240),(5,'14:00',0.250),(5,'15:00',0.245),
(5,'16:00',0.230),(5,'17:00',0.210),(5,'18:00',0.185),(5,'19:00',0.160),
(5,'20:00',0.135),(5,'21:00',0.110),(5,'22:00',0.090),(5,'23:00',0.065);
